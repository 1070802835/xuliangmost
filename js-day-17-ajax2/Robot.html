<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Robot</title>
		<style type="text/css">
		*{margin: 0;padding: 0;}
			#div1{width: 800px;height:600px ;background: aqua;margin: 0 auto;margin-top: 100px;border: 1px solid black;position: relative;}
			#t1{width: 700px;height: 100px;border-top: 1px solid black;position: absolute;left: 0;bottom: 0;border: 0;font-size: 20px;}
			#t1:focus{outline: none;}
			#b1{width: 100px;height: 100px;border-top: 1px solid black;position: absolute;right: 0;bottom: 0;position: absolute;right: 0;bottom: 0;}
			
			#p1{width: 800px;text-align: right;font-size: 30px;}
			#p2{width: 800px;font-size: 30px;}
		</style>
	</head>
	<body>
		<div id="div1">
			<input type="text" name="t1" id="t1" value="" />
			<input type="button" name="b1" id="b1" value="发送" onclick="Robot()" />
			<!--<input type="button" name="b1" id="b1" value="发送" />-->
		</div>
		<script type="text/javascript">
			
			var oB1=document.getElementById("b1");
			var oDiv1=document.getElementById("div1");
			
//			oB1.onclick=function(){
//				var xhr=new XMLHttpRequest();
//				var oT1=document.getElementById("t1");
//				var oDiv1=document.getElementById("div1");
//				alert(1)
//				var text1=oT1.value;
//				oT1.value="";
//				oDiv1.innerHTML+= "<p id=\"p1\">"+text1+"</p>";
//			var url="http://apis.baidu.com/turing/turing/turing?key=879a6cb3afb84dbf4fc84a1df2ab7319&info="+text1+"&userid=eb2edb736";
//			xhr.open("GET",url,true);
//			xhr.onreadystatechange=function(){
//				if(xhr.readyState==4){
//					if(xhr.status==200){
//						var kangkai=JSON.parse(xhr.responseText);
//						var kk=kangkai.text;
//						oDiv1.innerHTML+= "<p id=\"p2\">"+kk+"</p>";
//					}
//				}
//			}
//			xhr.setRequestHeader("apikey","45d8173dfc35ce17924e1141a441258e");
//			xhr.send();
//			var oB1=document.getElementById("b1");
//			
//			}
			
			function Robot(){
				
				var xhr=new XMLHttpRequest();
				var oT1=document.getElementById("t1");
				var text1=oT1.value;
				oT1.value="";
				oDiv1.innerHTML+= "<p id=\"p1\">"+text1+"</p>";
			var url="http://apis.baidu.com/turing/turing/turing?key=879a6cb3afb84dbf4fc84a1df2ab7319&info="+text1+"&userid=eb2edb736";
			xhr.open("GET",url,true);
			xhr.onreadystatechange=function(){
				if(xhr.readyState==4){
					if(xhr.status==200){
						var kangkai=JSON.parse(xhr.responseText);
//						alert(1)
						var kk=kangkai.text;
						oDiv1.innerHTML+= "<p id=\"p2\">"+kk+"</p>";
					}
				}
			}
			xhr.setRequestHeader("apikey","45d8173dfc35ce17924e1141a441258e");
			xhr.send();
				
				text1="";
			}
			
			
		</script>
	</body>
</html>


<!--var xhr=new XMLHttpRequest();
    xhr.onreadystatechange=function(){
        if(xhr.readyState==4){
            if(xhr.status==200){
                var oDiv=document.getElementById("div1");
                var result=JSON.parse(xhr.responseText);
                oDiv.innerHTML=result.text;
            }
        }
    }
    xhr.open("get","http://apis.baidu.com/turing/turing/turing?key=879a6cb3afb84dbf4fc84a1df2ab7319&info=好啊&userid=eb2edb736'",true);
    xhr.setRequestHeader("apikey","45d8173dfc35ce17924e1141a441258e");
    xhr.send();-->