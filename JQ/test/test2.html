<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<script src="js/jquery-3.1.1.js"></script>
</head>
<body>
<script>
		$("#allcheck").click(function(){
			$(this).parents("#top").siblings().find("input[type=checkbox]").each(function(){
				$(this).prop("checked",!$(this).prop("checked"));
			})
		})
		$("#shoppinglist").find("input").click(function(){
			if(!$(this).prop("checked")){
				$("#allcheck").prop("checked",false);
			}
			var checkLen = $("#shoppinglist").find("input:checked").length;
			var len = $("#shoppinglist").find("input").length;
			if(len == checkLen ){
				$("#allcheck").prop("checked",true);
			}
		})
	//全选
//	$("#allcheck").prop("checked",true);
//	$("#shoppinglist :checkbox").prop("checked",true);
//	$("#allcheck").click(function(){
//		if(this.checked){
//			$("#shoppinglist :checkbox").prop("checked",true);
//		}else{
//			$("#shoppinglist :checkbox").prop("checked",false);
//		}
//	})
//	$("#shoppinglist input").click(function(){
//		chackcount();
//	})
//	})
//	function chackcount(){
//		var chechcount=$("#shoppinglist :checkbox").length;
//		var chechsum=0;
//		$("#shoppinglist :checkbox").each(function(){
//			if($(this).prop("checked")==true){
//				chechsum++;
//			}
//		})
//		chechcount==chechsum?$("#allcheck").prop("checked",true):$("#allcheck").prop("checked",false);
//	}
</script>
</body>
</html>