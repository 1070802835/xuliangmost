<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/jquery-3.1.1.js"></script>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			#Lb{
				width: 800px;
				height: 600px;
				position: relative;
				z-index: 5;
				margin: 20px auto;
			}
			
			#Lb #ul1{
				width: 800px;
				height: 600px;
				position: relative;
				z-index: 9;
			}
			
			#Lb #ul1 li{
				list-style: none;
				/*float: left;*/
				width: 800px;
				height: 600px;
				position: absolute;
			}
			
			#Lb #ul1 li img {
				width: 800px;
				height: 600px;
			}
			
			#Lb #sp1 {
				display: block;
				width: 71px;
				height: 71px;
				background: url(img/button.png) -71px 0;
				position: absolute;
				top: 300px;
				left: -30px;
				z-index: 10;
			}
			
			#Lb #sp2 {
				display: block;
				width: 71px;
				height: 71px;
				background: url(img/button.png) -71px -71px;
				position: absolute;
				top: 300px;
				right: -30px;
				z-index: 10;
			}
			#Lb #ann{
				width:180px;
				height:32px;
				position: absolute;
				bottom:10px;
				z-index:20;
			}
			#Lb #ann #an{
				width:180px;
				background: #363636;
				/*float: left;*/
				height:32px;
				margin:0 auto;
				border-radius:32px;
				opacity:0.7;
			}
			#Lb #ann #an li{
				width: 16px;
				height:16px;
				border-radius: 16px;
				background: #787878;
				/*position: absolute;*/
				/*z-index:20;*/
				float: left;
				list-style:none;
				margin:8px 10px 0 10px;
			}
			#Lb #ann #an li:hover{
				background: #c7d1d6;
				cursor: pointer;
			}
		</style>
	</head>

	<body>
		<div id="Lb">
			<ul id="ul1">
				<li>
					<img src="img/3.jpg" />

				</li>

				<li class="c1">
					<img src="img/4.jpg" />

				</li>

				<li class="c1">
					<img src="img/5.jpg" />

				</li>

				<li class="c1">
					<img src="img/6.jpg" />

				</li>

				<li class="c1">
					<img src="img/7.jpg" />

				</li>
			</ul>
			<span id="sp1"></span>
			<span id="sp2"></span>
			<div id="ann">
				<ul id="an">
					<li></li>
					<li></li>
					<li></li>
					<li></li>
					<li></li>
				</ul>
			</div>
		</div>
		<script type="text/javascript">
			var index = 0;
			var time;
			var Left=parseFloat($("#Lb").css("width"))/2-parseFloat($("#ann").css("width"))/2;
			$("#ann").css("left",Left);
//			console.log(Left);

			Run();
			$("#ul1 li").eq(0).siblings().css("display", "none");
			function dd() {
				$("#ul1").children().eq(index).fadeIn(700).siblings().fadeOut(700);
			}
			function Run() {
				clearInterval(time);
				time = setInterval(function() {
					index++;
					if(index == 5) {
					index = 0;
					}
					dd();
				}, 1500)
			}
			$("#ul1").on("mouseover",function(){
				clearInterval(time);
			}).on("mouseout",function(){
				Run()
			});
			$("#sp1").click(function(e){
				clearInterval(time);
				if(e.target==this){
					index--;
					if(index==-1){
						index=4;
					}
					$("#ul1").children().stop().eq(index).fadeIn(700).siblings().fadeOut(700);
				}
			});
			$("#sp2").click(function(e){
				if(e.target==this){
					index++;
					if(index==5){
						index=0;
					}
					$("#ul1").children().stop().eq(index).fadeIn(700).siblings().fadeOut(700);
				}
			});

			$("#an").children().mouseenter(function () {
				clearInterval(time);
//				alert(1)
				$("#ul1").children().stop(true,false);
				index=$(this).index();
				dd();
			}).mouseleave(function () {
				Run();
			});







//			$("#Lb").on("mouseover",function(){
//				clearInterval(time);
//				$("#Lb #sp1").click(function(e){
//				clearInterval(time);
//				if(e.target==this){
//					$("ul li").stop();				//这种写法  每次mouseover的时候
//					index--;						//都会绑定一个点击事件
//					if(index==-1){					//所以  进去几次，就会弹几次
//						index=4;					//上面的分开写法  就不会发生这种重复绑定事件
//					}
//					dd();
//					alert("左")
//				}
//			});
//			$("#Lb #sp2").click(function(e){
//				if(e.target==this){
//					$("ul li").stop();
//					index++;
//					if(index==5){
//						index=0;
//					}
//					dd();
//					alert("右")
//				}
//			});
//			})
//
//			$("#Lb").on("mouseout",function(){
//				Run()
//			})

























		</script>
	</body>
</html>