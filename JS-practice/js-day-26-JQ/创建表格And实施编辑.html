<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/jquery-3.1.1.js"></script>
		<script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.js"></script>
	</head>
	<body>
		<input type="text" name="t1" id="t1" placeholder="请输入rows" style="height: 30px;"/>
		<input type="text" name="t2" id="t2" placeholder="请输入cols" style="height: 30px;"/>
		<!--<input type="button" name="b2" id="b2" value="消失/隐藏" style="height: 30px;"/>-->
		<input type="button" name="b1" id="b1" value="生成表格" style="height: 30px;"/>
		<div></div>
		<script type="text/javascript">
			
			$("div").append("<table></table>");
//			var flag=true; //下面的消失隐藏按钮
			$("input[name='b1']").click(function(){
				$("table").html("").css("borderCollapse","collapse")
				var rows=$("#t1").val();
				var cols=$("#t2").val();
				for(var i=0;i<rows;i++){
					$("table").append("<tr></tr>");
				}
				for(var i=0;i<cols;i++){
					$("tr").append("<td></td>");
				}
				$("td").css({width:"150px",height:"40px",border:" 1px solid black",textAlign:"left"})
				$("tr").append("<input type='button' class='c2 c3' name='delete1' value='删除'/>");
				$("tr").append("<input type='button' class='c2 c3' name='addtop' value='添加上一行'/>");
				$("tr").append("<input type='button' class='c2 c3' name='addbottom' value='添加下一行'/>");
				$(".c3").css({width:"150px",height:"42px",background:"#e35435",border:"1px solid black"})
				$("input[name='addtop']").click(function(){
					var newtr=$(this).parent().clone(true);
					newtr.children("td").html("").css("background","red");
					$(this).parent().before(newtr);
				})
				$("input[name='addbottom']").click(function(){
					var newtr=$(this).parent().clone(true);
					
					newtr.children("td").html("").css("background","gold");
					$(this).parent().after(newtr);
				})
				$("input[name='delete1']").click(function(){
					$(this).parent().detach();
				})
//				$("input[name='b2']").click(function(){
//					$("div").slideToggle("slow");
//				});
				$("td").click(function(e){
					var that=this;
					var content=$(that).text();
					$(that).html("<input type='text' class='in1' />");
					$("input[class='in1']").css({width:"150px",height:"38px",border:"0",textAlign:"center"})
					$("input[class='in1']").focus();
					$("input[class='in1']").val(content);
					$("input[class='in1']").click(function(e){
						e.stopPropagation();
					})
					$("input[class='in1']").blur(function(){
						var content=$(this).val();
						$(that).text(content);
					})
				})
			})
		</script>
	</body>
</html>