<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/jquery-3.1.1.js"></script>
		<style type="text/css">
		</style>
	</head>
	<body>
		<input type="button" name="b1" id="b1" value="变成线性" style="position: absolute;"/>	
		<input type="button" name="b2" id="b2" value="变回乱序" style="position: absolute;"/>
		<script type="text/javascript">
			var screenWidth=document.body.clientWidth||document.documentElement.clientHeight;
			var screenHeight=document.body.clientHeight||document.documentElement.clientHeight;
			var rows=Math.floor(screenWidth/8);
			var arr=[];
			var arrleft=[];
			var arrtop=[];
			for(var i=0;i<rows;i++){
				var lEft=parseInt(Math.random()*(screenWidth-8));
				var tOp=parseInt(Math.random()*(screenHeight-8));
				$(document.body).append("<div></div>");
				$("div").eq(i).css({backgroundColor:rgb(),position:"absolute",left:lEft+"px",top:tOp+"px",width:"8px",height:"8px",borderRadius:"8px"});
				arr.push($("div").eq(i));
				arrleft.push(parseInt($("div").eq(i).css("left")));
				arrtop.push(parseInt($("div").eq(i).css("top")));
			}
			function rgb(){
				var a=parseInt(Math.random()*258);
				var b=parseInt(Math.random()*258);
				var c=parseInt(Math.random()*258);
				return "rgb("+a+","+b+","+c+")";
			}

			$("input[name='b1']").css("left",0).click(function(){
				$("div").stop();
				for(var i=0;i<arr.length;i++){
					var cols=Math.floor(screenHeight/rows)+0.4;
					$("div:eq("+i+")").animate({
						left:i*8,
						top:i*cols
					},3000)
				}
			});
			//
			$("input[name='b2']").css("left",100).click(function(){
					$("div").stop();
					for(var k=0;k<arr.length;k++){
						$("div:eq("+k+")").animate({
							left:arrleft[k],
							top:arrtop[k]
						},3000)
					}
				});
			
		</script>
	</body>
</html>