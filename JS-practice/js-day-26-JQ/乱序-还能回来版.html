<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/jquery-3.1.1.js"></script>
		<style type="text/css">
			div{width: 8px;height: 8px;position: absolute;}
			input{
				position: absolute;
			}
		</style>
	</head>
	<body>
		<input type="button" name="b1" id="b1" value="变成线" />	
		<input type="button" name="b2" id="b2" value="变回乱序" />
		<script type="text/javascript">
			var screenWidth=document.body.clientWidth||document.documentElement.clientHeight;
//			var screenWidth=window.screen.availWidth;
			var screenHeight=document.body.clientHeight||document.documentElement.clientHeight;
//			var screenHeight=window.screen.availHeight;
			var rows=Math.floor(screenWidth/8);
			var arr=[];
			var arrleft=[];
			var arrtop=[];
			var flag1=true;
			for(var i=0;i<rows;i++){
				var oDiv=document.createElement("div");
				
				var lEft=parseInt(Math.random()*(screenWidth-8));
				var tOp=parseInt(Math.random()*(screenHeight-8));
				oDiv.style.background=rgb();
				oDiv.style.left=lEft+"px";
				oDiv.style.top=tOp+"px";
				document.body.appendChild(oDiv);
				arr.push(oDiv);
				arrleft.push(oDiv.offsetLeft);
				arrtop.push(oDiv.offsetTop);
			}
			function rgb(){
				var a=parseInt(Math.random()*258);
				var b=parseInt(Math.random()*258);
				var c=parseInt(Math.random()*258);
				return "rgb("+a+","+b+","+c+")";
			}
			$("input[name='b1']").css("left",0);
			$("input[name='b2']").css("left",100);
			
			
			$("input[name='b1']").click(function(){
				for(var i=0;i<arr.length;i++){
					var cols=Math.floor(screenHeight/rows)+0.4;
					$("div:eq("+i+")").animate({
						left:i*8,
						top:i*cols
					},3000)
					
					}
			});
			$("input[name='b2']").click(function(){
				for(var k=0;k<arr.length;k++){
					$("div:eq("+k+")").animate({
						left:arrleft[k],
						top:arrtop[k]
					},3000)
					}
			})
			
			
		</script>
	</body>
</html>
